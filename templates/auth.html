{% extends 'base.html' %}

{% block content %}
<div class="max-w-md mx-auto mt-10">
    <div class="glass p-8 rounded-xl space-y-6">
        <h2 class="text-3xl font-bold text-center gradient-text">Team Access</h2>

        <div class="flex gap-2 p-1 bg-slate-800 rounded-lg mb-6">
            <button onclick="toggleAuth('login')" id="tab-login"
                class="flex-1 py-2 rounded-md text-sm font-bold bg-slate-600 transition">Login</button>
            <button onclick="toggleAuth('register')" id="tab-register"
                class="flex-1 py-2 rounded-md text-sm font-bold text-slate-400 hover:text-white transition">Register</button>
        </div>

        <form method="post" class="space-y-4">
            <input type="hidden" name="action" id="auth-action" value="login">

            <div>
                <label class="block text-xs uppercase text-slate-400 mb-1 font-bold">Team Name</label>
                <input type="text" name="name" required
                    class="w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-pink-500 transition">
            </div>

            <div>
                <label class="block text-xs uppercase text-slate-400 mb-1 font-bold">Password</label>
                <input type="password" name="password" required
                    class="w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-pink-500 transition">
            </div>

            <div id="confirm-password-group" class="hidden">
                <label class="block text-xs uppercase text-slate-400 mb-1 font-bold">Confirm Password</label>
                <input type="password" name="confirm_password"
                    class="w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-pink-500 transition">
            </div>

            <button type="submit" id="submit-btn"
                class="w-full py-3 rounded-xl bg-gradient-to-r from-pink-600 to-violet-600 font-bold shadow-lg shadow-pink-500/20 hover:opacity-90 transition">
                Login
            </button>
        </form>
    </div>
</div>

<script>
    function toggleAuth(mode) {
        document.getElementById('auth-action').value = mode;
        const loginTab = document.getElementById('tab-login');
        const registerTab = document.getElementById('tab-register');
        const submitBtn = document.getElementById('submit-btn');

        const confirmGroup = document.getElementById('confirm-password-group');
        const confirmInput = confirmGroup.querySelector('input');

        if (mode === 'login') {
            loginTab.classList.add('bg-slate-600', 'text-white');
            loginTab.classList.remove('text-slate-400');
            registerTab.classList.remove('bg-slate-600', 'text-white');
            registerTab.classList.add('text-slate-400');
            submitBtn.textContent = 'Login';
            confirmGroup.classList.add('hidden');
            confirmInput.required = false;
        } else {
            registerTab.classList.add('bg-slate-600', 'text-white');
            registerTab.classList.remove('text-slate-400');
            loginTab.classList.remove('bg-slate-600', 'text-white');
            loginTab.classList.add('text-slate-400');
            submitBtn.textContent = 'Register Team';
            confirmGroup.classList.remove('hidden');
            confirmInput.required = true;
        }
    }
</script>
{% endblock %}